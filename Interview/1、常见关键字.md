# C++常见关键字

## 一、static

static 是 C++ 中的关键字，用于为元素赋予特殊的特性;静态元素在程序生存期内仅在`静态存储区`中分配一次存储,一直作用到程序生存期。它主要有以下几个作用：

1、修饰普通变量: 修改变量的存储区域和生命周期，使变量存储在静态区，在main函数运行前就分配了空间，如果有初始值就用初始值初始化它，没有初始值系统会给它一个默认值。
2、修饰普通函数: 表示函数的作用范围，仅在定义该函数的文件内才能使用,在多人开发同一个项目时，为了防止与他人命名空间里的函数重名，可以将函数定位为static。
3、修饰类的成员变量: 修饰类的成员变量使所有的类对象只保存一个该变量，而且不需要生成类对象就可以访问该类的成员变量。
4、修饰类的成员函数: 修饰类的成员函数使得不需要生成类对象就可以访问该函数，但是在static函数内不能访问非静态类成员变量。

5、静态全局变量：在全局变量前，加上关键字static，该变量就被定义成为一个静态全局变量。
该变量在全局数据区分配内存，后面的静态局部变量也是。
未经初始化的静态全局变量会被程序自动初始化一个值（自动变量的值是随机的，除非它被显式初始化）；
静态全局变量在声明它的整个文件中都是可见的，而在文件之外是不可见的。

6、静态局部变量：静态局部变量保存在全局数据区，而不是保存在栈中，每次的值保持到下一次调用，直到下次赋新值。
该变量在全局数据区分配内存；静态局部变量在程序执行到该对象的声明处时被首次初始化，即以后的函数调用不再进行初始化；
静态局部变量一般在声明处初始化，如果没有显式初始化，会被程序自动初始化；它始终驻留在全局数据区，直到程序运行结束；
但其作用域为局部作用域，当定义它的函数或语句块结束时，其作用域随之结束。

## 二、const

const 是 constant的缩写，是不变的，不易改变的意思；在 C++ 中是用来修饰内置类型变量、自定义对象、成员函数、返回值、函数参数；编程中确定有某个值保持不变，就应该明确使用const。
1、const修饰普通类型的变量。
2、const修饰指针变量。
3、const用于参数传递和函数返回值。
4、const修饰类成员函数。

## 三、inline
场景：当频繁调用小函数时，为了节省函数调用的开销，可以用内联函数。
注意：inline修饰函数的时候要加上函数体，不然没有用。
优点：执行的速度快；调用时候会检查参数类型，比较安全；可以用来修饰保护成员和私有成员；类中定义的函数不管加不加inline都会是内联函数。
缺点：以函数复制为代价，如果过多使用，会消耗内存；如果函数体内有循环，那么执行函数代码的时间比调用要开销大；
是否内联，程序员不可控，inline只是对编译器的建议，是否内联取决于编译器。

## 四、volatite
1、volatile 关键字是一种类型修饰符，用它声明的类型变量表示可以被某些编译器未知的因素更改，比如：操作系统、硬件或者其它线程等。遇到这个关键字声明的变量，编译器对访问该变量的代码就不再进行优化，从而可以提供对特殊地址的稳定访问。当要求使用 volatile 声明的变量的值的时候，系统总是重新从它所在的内存读取数据，即使它前面的指令刚刚从该处读取过数据，而且读取的数据立刻被保存。

2、多线程并发访问共享变量时，一个线程改变了变量的值，如何让改变后的值对其它线程可见，这就要用到volatile：
中断服务程序中修改的，供其它程序检测的变量需要加关键字volatile；多任务环境下各任务间共享的标志应该加volatile；存储器映射的硬件寄存器要加volatile说明，因为每次对它的读写都可能有不同的意义。
